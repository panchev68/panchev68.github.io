<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IAR Library: Lib::Math::Filter::Kalman</title>
<link rel="icon" href="../../Library.png" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Library.png"/></td>
  <td id="projectalign">
   <div id="projectname">IAR Library<span id="projectnumber">&#160;3.03</span>
   </div>
   <div id="projectbrief">IAR  Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dd/dd0/_lib_1_1_math_1_1_filter_1_1_kalman-example.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Lib::Math::Filter::Kalman</div></div>
</div><!--header-->
<div class="contents">
<h3 class="doxsection"><a class="anchor" id="example-of-kalman-filter-usage-for-smoothing-noisy-sensor-data"></a>
Example of Kalman filter usage for smoothing noisy sensor data.</h3>
<p>This example demonstrates how to configure and use the <span class="tt">Kalman</span> filter to smooth a sequence of noisy sensor readings. The example shows initialization, filtering of multiple values, and resetting the filter. The output illustrates the effect of the Kalman filter in reducing noise.</p>
<dl class="section user"><dt>Example usage:</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../de/d17/_kalman_8hpp.html">Lib/Math/Filter/Kalman.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="keyword">using </span><a id="_a0" name="_a0"></a><a class="code hl_class" href="../../d6/d76/class_lib_1_1_math_1_1_filter_1_1_kalman.html">Lib::Math::Filter::Kalman</a>;</div>
<div class="line">    <span class="keyword">using </span>KalmanDouble = Kalman&lt;double&gt;;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Configure the Kalman filter for a typical sensor scenario</span></div>
<div class="line">    KalmanDouble::Config config;</div>
<div class="line">    config.<a id="a1" name="a1"></a>processNoise = 0.0001;</div>
<div class="line">    config.sensorNoise = 0.01;</div>
<div class="line">    config.estimatedError = 1.0;</div>
<div class="line">    config.value = 0.0;</div>
<div class="line"> </div>
<div class="line">    KalmanDouble filter(config);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Simulated noisy sensor data</span></div>
<div class="line">    <span class="keywordtype">double</span> sensorData[] = {0.39, 0.50, 0.48, 0.29, 0.25, 0.32, 0.34, 0.48, 0.41, 0.45};</div>
<div class="line">    <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> dataCount = <span class="keyword">sizeof</span>(sensorData) / <span class="keyword">sizeof</span>(sensorData[0]);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Raw\tFiltered&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; dataCount; ++i) {</div>
<div class="line">        <span class="keywordtype">double</span> filtered = filter(sensorData[i]);</div>
<div class="line">        std::cout &lt;&lt; sensorData[i] &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; filtered &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Reset the filter and filter the same data again</span></div>
<div class="line">    filter.reset();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\nAfter reset:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; dataCount; ++i) {</div>
<div class="line">        <span class="keywordtype">double</span> filtered = filter(sensorData[i]);</div>
<div class="line">        std::cout &lt;&lt; sensorData[i] &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; filtered &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="a_kalman_8hpp_html"><div class="ttname"><a href="../../de/d17/_kalman_8hpp.html">Kalman.hpp</a></div><div class="ttdoc">Kalman filter implementation for generic numeric types.</div></div>
<div class="ttc" id="aclass_lib_1_1_math_1_1_filter_1_1_kalman_html"><div class="ttname"><a href="../../d6/d76/class_lib_1_1_math_1_1_filter_1_1_kalman.html">Lib::Math::Filter::Kalman</a></div><div class="ttdoc">Kalman filter for generic numeric types.</div><div class="ttdef"><b>Definition</b> Kalman.hpp:24</div></div>
</div><!-- fragment --><p>This example initializes a Kalman filter for double values, processes a sequence of noisy sensor readings, and prints both the raw and filtered values. After resetting the filter, the same data is filtered again to demonstrate the reset functionality. The output shows how the Kalman filter smooths the noisy input data.</p>
<dl class="section user"><dt>Expected output:</dt><dd></dd></dl>
<div class="fragment"><div class="line">Raw     Filtered</div>
<div class="line">0.39    0.389996</div>
<div class="line">0.5     0.399993</div>
<div class="line">0.48    0.407991</div>
<div class="line">0.29    0.398989</div>
<div class="line">0.25    0.384987</div>
<div class="line">0.32    0.378985</div>
<div class="line">0.34    0.375983</div>
<div class="line">0.48    0.384981</div>
<div class="line">0.41    0.386979</div>
<div class="line">0.45    0.391977</div>
<div class="line"> </div>
<div class="line">After reset:</div>
<div class="line">0.39    0.389996</div>
<div class="line">0.5     0.399993</div>
<div class="line">0.48    0.407991</div>
<div class="line">0.29    0.398989</div>
<div class="line">0.25    0.384987</div>
<div class="line">0.32    0.378985</div>
<div class="line">0.34    0.375983</div>
<div class="line">0.48    0.384981</div>
<div class="line">0.41    0.386979</div>
<div class="line">0.45    0.391977</div>
</div><!-- fragment --><p>The filtered values demonstrate the Kalman filter's ability to reduce noise and provide a smooth estimate of the true value, even when the input data is noisy.</p>
<div class="fragment"></div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
