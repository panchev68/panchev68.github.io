<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IAR Library: Lib::XCOM::Protocol Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IAR Library<span id="projectnumber">&#160;2.00</span>
   </div>
   <div id="projectbrief">Board Supported Peripherals  Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d2/d70/a01729.html','../../','df/dba/a01726'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Lib::XCOM::Protocol Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Collaboration diagram for Lib::XCOM::Protocol:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../de/d0f/a01727.png" border="0" usemap="#a_lib_1_1_x_c_o_m_1_1_protocol_coll__map" loading="lazy" alt="Collaboration graph"/></div>
<map name="a_lib_1_1_x_c_o_m_1_1_protocol_coll__map" id="a_lib_1_1_x_c_o_m_1_1_protocol_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,150,181"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:Frame" id="r_Frame"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d9c/a01733.html">Frame</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5d6dd834ad204916bf6e2a01f0860660" id="r_a5d6dd834ad204916bf6e2a01f0860660"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d6dd834ad204916bf6e2a01f0860660">build</a> (const <a class="el" href="../../d8/d9c/a01733.html">Frame</a> &amp;frameIn)</td></tr>
<tr class="memitem:a0d465aa561ca4ca52f69c244ed709578" id="r_a0d465aa561ca4ca52f69c244ed709578"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d465aa561ca4ca52f69c244ed709578">parse</a> (const std::vector&lt; uint8_t &gt; &amp;frameIn, <a class="el" href="../../d8/d9c/a01733.html">Frame</a> &amp;frameOut)</td></tr>
<tr class="memitem:a15da546db8ceae7131799ec084a27ee7" id="r_a15da546db8ceae7131799ec084a27ee7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15da546db8ceae7131799ec084a27ee7">isEsc</a> (uint8_t value)</td></tr>
<tr class="memitem:afa20e362247f8cc28d2ea499ba0cf31f" id="r_afa20e362247f8cc28d2ea499ba0cf31f"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa20e362247f8cc28d2ea499ba0cf31f">escCoding</a> (uint8_t value)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-attribs" class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ada01eb6f0a9111387e35e5e0dee1c690" id="r_ada01eb6f0a9111387e35e5e0dee1c690"><td class="memItemLeft" align="right" valign="top">static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada01eb6f0a9111387e35e5e0dee1c690">START_DELIMITER</a> = 0x6e</td></tr>
<tr class="memitem:aa12e694762a3f271b7527e02333e0cd8" id="r_aa12e694762a3f271b7527e02333e0cd8"><td class="memItemLeft" align="right" valign="top">static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa12e694762a3f271b7527e02333e0cd8">ESC_SUBST</a> = 0x6d</td></tr>
<tr class="memitem:a7dc2da80a659526b5e7fedc249bd5d01" id="r_a7dc2da80a659526b5e7fedc249bd5d01"><td class="memItemLeft" align="right" valign="top">static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7dc2da80a659526b5e7fedc249bd5d01">PRECODE_MASK</a> = 0x20</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Protocol class for XCOM communication.</p>
<p>The Protocol class provides static methods for building and parsing frames according to the XCOM protocol specification. It handles escape coding, CRC16 checksum calculation, and frame structure definition. The class ensures reliable and type-safe communication between devices in embedded systems, supporting variable-length payloads and robust error checking. </p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a5d6dd834ad204916bf6e2a01f0860660" name="a5d6dd834ad204916bf6e2a01f0860660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d6dd834ad204916bf6e2a01f0860660">&#9670;&#160;</a></span>build()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; uint8_t &gt; Lib::XCOM::Protocol::build </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9c/a01733.html">Frame</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>frameIn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Build a protocol frame from the given Frame object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameIn</td><td>Frame object containing command and payload. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Encoded frame as a vector of bytes. </dd></dl>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d2/d70/a01729_a5d6dd834ad204916bf6e2a01f0860660_cgraph.png" border="0" usemap="#ad2/d70/a01729_a5d6dd834ad204916bf6e2a01f0860660_cgraph" loading="lazy" alt=""/></div>
<map name="ad2/d70/a01729_a5d6dd834ad204916bf6e2a01f0860660_cgraph" id="ad2/d70/a01729_a5d6dd834ad204916bf6e2a01f0860660_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,148,48"/>
<area shape="rect" href="../../d2/d70/a01729.html#a15da546db8ceae7131799ec084a27ee7" title=" " alt="" coords="196,5,338,48"/>
<area shape="poly" title=" " alt="" coords="148,24,180,24,180,29,148,29"/>
</map>
</div>

</div>
</div>
<a id="afa20e362247f8cc28d2ea499ba0cf31f" name="afa20e362247f8cc28d2ea499ba0cf31f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa20e362247f8cc28d2ea499ba0cf31f">&#9670;&#160;</a></span>escCoding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Lib::XCOM::Protocol::escCoding </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Apply escape coding to a value. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Byte value to encode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Escaped byte value. </dd></dl>

</div>
</div>
<a id="a15da546db8ceae7131799ec084a27ee7" name="a15da546db8ceae7131799ec084a27ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15da546db8ceae7131799ec084a27ee7">&#9670;&#160;</a></span>isEsc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Lib::XCOM::Protocol::isEsc </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if a value requires escape coding. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Byte value to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><span class="tt">true</span> if value is a reserved delimiter or escape byte, <span class="tt">false</span> otherwise. </dd></dl>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d2/d70/a01729_a15da546db8ceae7131799ec084a27ee7_icgraph.png" border="0" usemap="#ad2/d70/a01729_a15da546db8ceae7131799ec084a27ee7_icgraph" loading="lazy" alt=""/></div>
<map name="ad2/d70/a01729_a15da546db8ceae7131799ec084a27ee7_icgraph" id="ad2/d70/a01729_a15da546db8ceae7131799ec084a27ee7_icgraph">
<area shape="rect" title=" " alt="" coords="196,5,338,48"/>
<area shape="rect" href="../../d2/d70/a01729.html#a5d6dd834ad204916bf6e2a01f0860660" title=" " alt="" coords="5,5,148,48"/>
<area shape="poly" title=" " alt="" coords="180,29,148,29,148,24,180,24"/>
</map>
</div>

</div>
</div>
<a id="a0d465aa561ca4ca52f69c244ed709578" name="a0d465aa561ca4ca52f69c244ed709578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d465aa561ca4ca52f69c244ed709578">&#9670;&#160;</a></span>parse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Lib::XCOM::Protocol::parse </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>frameIn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d9c/a01733.html">Frame</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>frameOut</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parse an encoded frame and extract its contents. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frameIn</td><td>Input frame as a vector of bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">frameOut</td><td>Output Frame object to store parsed command and payload. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><span class="tt">true</span> if parsing was successful, <span class="tt">false</span> otherwise. </dd></dl>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="aa12e694762a3f271b7527e02333e0cd8" name="aa12e694762a3f271b7527e02333e0cd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa12e694762a3f271b7527e02333e0cd8">&#9670;&#160;</a></span>ESC_SUBST</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Lib::XCOM::Protocol::ESC_SUBST = 0x6d</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Escape substitution byte for encoding reserved values. Escape substitution value. </p>

</div>
</div>
<a id="a7dc2da80a659526b5e7fedc249bd5d01" name="a7dc2da80a659526b5e7fedc249bd5d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dc2da80a659526b5e7fedc249bd5d01">&#9670;&#160;</a></span>PRECODE_MASK</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Lib::XCOM::Protocol::PRECODE_MASK = 0x20</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Precode mask for escape coding. Mask for escape coding. </p>

</div>
</div>
<a id="ada01eb6f0a9111387e35e5e0dee1c690" name="ada01eb6f0a9111387e35e5e0dee1c690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada01eb6f0a9111387e35e5e0dee1c690">&#9670;&#160;</a></span>START_DELIMITER</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Lib::XCOM::Protocol::START_DELIMITER = 0x6e</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Start delimiter byte for frame identification. Start delimiter for frames. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../db/d3f/a00609.html">Lib</a></li><li class="navelem"><a href="../../d6/dcf/a00645.html">XCOM</a></li><li class="navelem"><a href="../../d2/d70/a01729.html">Protocol</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
