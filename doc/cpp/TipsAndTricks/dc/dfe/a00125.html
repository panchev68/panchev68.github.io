<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C++ Tips and Tricks: Iterator Design Pattern</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">C++ Tips and Tricks<span id="projectnumber">&#160;2.00</span>
   </div>
   <div id="projectbrief">C++</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dc/dfe/a00125.html','../../',''); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',false,false,'search.php','Search',true);
});
</script>
<div id="main-nav"></div>
<div id="container"><div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Iterator Design Pattern </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="ITERATOR_INTRO"></a>
Въведение</h1>
<p>Патернът Iterator предоставя начин за последователен достъп до елементите на агрегатен обект, без да се разкрива неговата вътрешна реализация. Това позволява на клиентския код да обхожда различни типове колекции по един и същи начин, без да зависи от структурата на данните.</p>
<p>В този пример <span class="tt">Iterator</span> е абстрактен интерфейс, който дефинира методите за итерация. <span class="tt">ConcreteIterator</span> реализира този интерфейс и предоставя механизъм за обхождане на елементите на <span class="tt">ConcreteAggregate</span>. <span class="tt">Aggregate</span> е интерфейс за агрегатни обекти, а <span class="tt">ConcreteAggregate</span> е конкретна реализация, която управлява колекция от цели числа и създава итератори за тях.</p>
<div class="fragment"><div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @file Iterator.hpp</span></div>
<div class="line"><span class="comment"> * Demonstrates the Iterator design pattern in C++ for embedded and UI codebases. This file defines abstract iterator</span></div>
<div class="line"><span class="comment"> * and aggregate interfaces, along with concrete implementations for iterating over a collection of integers. The</span></div>
<div class="line"><span class="comment"> * pattern enables sequential access to elements in a collection without exposing its underlying representation,</span></div>
<div class="line"><span class="comment"> * supporting flexible traversal mechanisms in embedded and UI application architectures.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Abstract interface for iterators over integer collections.</span></div>
<div class="line"><span class="comment"> * This class defines the interface for iterators that provide sequential access to elements in a collection,</span></div>
<div class="line"><span class="comment"> * decoupling traversal logic from the underlying data structure.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">class </span>Iterator {</div>
<div class="line"><span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Virtual destructor for Iterator.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">virtual</span> ~Iterator() = <span class="keywordflow">default</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Returns the next element in the collection and advances the iterator.</span></div>
<div class="line"><span class="comment">     * @return The next integer element in the collection.</span></div>
<div class="line"><span class="comment">     * @pre The iterator must not be at the end of the collection.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">int</span> next() = 0;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Checks if there are more elements to iterate over.</span></div>
<div class="line"><span class="comment">     * @return True if there are more elements, false otherwise.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> hasNext() <span class="keyword">const</span> = 0;</div>
<div class="line">};</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Concrete iterator implementation for integer collections.</span></div>
<div class="line"><span class="comment"> * This class provides an implementation of the Iterator interface for iterating over a vector of integers,</span></div>
<div class="line"><span class="comment"> * maintaining the current position and supporting sequential access to elements.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">class </span>ConcreteIterator : <span class="keyword">public</span> Iterator {</div>
<div class="line"><span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Constructs a ConcreteIterator for the given collection of integers.</span></div>
<div class="line"><span class="comment">     * @param items Reference to the vector of integers to iterate over.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    ConcreteIterator(<span class="keyword">const</span> std::vector&lt;int&gt; &amp; items) : items(items), index(0U) {}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Returns the next element in the collection and advances the iterator.</span></div>
<div class="line"><span class="comment">     * @return The next integer element in the collection.</span></div>
<div class="line"><span class="comment">     * @pre The iterator must not be at the end of the collection.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keywordtype">int</span> next()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> items[index++]; }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Checks if there are more elements to iterate over.</span></div>
<div class="line"><span class="comment">     * @return True if there are more elements, false otherwise.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keywordtype">bool</span> hasNext()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> index &lt; items.size(); }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::vector&lt;int&gt; items; <span class="comment">///&lt; Collection of integers to iterate over.</span></div>
<div class="line">    <span class="keywordtype">size_t</span> index;           <span class="comment">///&lt; Current position in the collection.</span></div>
<div class="line">};</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Abstract interface for aggregate collections.</span></div>
<div class="line"><span class="comment"> * This class defines the interface for aggregate objects that can create iterators for traversing their elements,</span></div>
<div class="line"><span class="comment"> * enabling decoupling of collection structure from traversal logic.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">class </span>Aggregate {</div>
<div class="line"><span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Virtual destructor for Aggregate.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">virtual</span> ~Aggregate() = <span class="keywordflow">default</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Creates a new iterator for traversing the collection.</span></div>
<div class="line"><span class="comment">     * @return Pointer to a newly created Iterator instance.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">virtual</span> Iterator * createIterator() <span class="keyword">const</span> = 0;</div>
<div class="line">};</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Concrete aggregate implementation for a collection of integers.</span></div>
<div class="line"><span class="comment"> * This class provides an implementation of the Aggregate interface, managing a vector of integers and supporting</span></div>
<div class="line"><span class="comment"> * the creation of iterators for sequential traversal of its elements.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">class </span>ConcreteAggregate : <span class="keyword">public</span> Aggregate {</div>
<div class="line"><span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Constructs a ConcreteAggregate with a predefined set of integers.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    ConcreteAggregate() : items{1, 2, 3, 4, 5} {}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    /**</span></div>
<div class="line"><span class="comment">     * Creates a new iterator for traversing the collection.</span></div>
<div class="line"><span class="comment">     * @return Pointer to a newly created ConcreteIterator instance.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    Iterator * createIterator()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> ConcreteIterator(items); }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::vector&lt;int&gt; items; <span class="comment">///&lt; Collection of integers managed by the aggregate.</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined(ITERATOR_MAIN) || defined(INTELLISENSE) || defined(DOXYGEN)</span><span class="comment"></span></div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Entry point for demonstrating the Iterator pattern.</span></div>
<div class="line"><span class="comment"> * @return Exit status code.</span></div>
<div class="line"><span class="comment"> */</span><span class="preprocessor"></span></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    ConcreteAggregate aggregate;</div>
<div class="line">    Iterator * it = aggregate.createIterator();</div>
<div class="line">    <span class="keywordflow">while</span> (it-&gt;hasNext()) { std::cout &lt;&lt; it-&gt;next() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>; }</div>
<div class="line">    <span class="keyword">delete</span> it;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p>Този пример демонстрира как да се използва патернът Iterator за обхождане на елементи в колекция, като се осигурява гъвкавост и независимост между структурата на колекцията и начина на обхождане.  </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../index.html">DESIGN_PATTERNS Design Patterns in C++</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for C++ Tips and Tricks by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
