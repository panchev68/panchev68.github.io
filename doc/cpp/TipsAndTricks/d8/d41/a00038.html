<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C++ Tips and Tricks: Builder Pattern</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">C++ Tips and Tricks<span id="projectnumber">&#160;2.00</span>
   </div>
   <div id="projectbrief">C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d8/d41/a00038.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Builder Pattern</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="BUILDER_INTRO"></a>
Ведение в Builder Pattern</h1>
<p>Патернът Builder е шаблон за проектиране, създаден да предостави гъвкаво решение за различни проблеми при създаването на обекти в обектно-ориентираното програмиране. Използва се за конструиране на сложен обект стъпка по стъпка, като последната стъпка ще върне обекта. Процесът на конструиране на обект трябва да бъде общ, така че да може да се използва за създаване на различни представяния на един и същ обект.</p>
<p>Патернът Builder е полезен, когато:</p><ul>
<li>Алгоритъмът за създаване на сложен обект трябва да бъде независим от частите, които съставляват обекта и как те са сглобени.</li>
<li>Процесът на конструиране трябва да позволява различни представяния на обекта, който се конструира.</li>
</ul>
<p>Ето един прост пример за патернът Builder в C++:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Product class</span></div>
<div class="line"><span class="keyword">class </span>Product {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> setPartA(<span class="keyword">const</span> std::string&amp; partA) { partA_ = partA; }</div>
<div class="line">    <span class="keywordtype">void</span> setPartB(<span class="keyword">const</span> std::string&amp; partB) { partB_ = partB; }</div>
<div class="line">    <span class="keywordtype">void</span> setPartC(<span class="keyword">const</span> std::string&amp; partC) { partC_ = partC; }</div>
<div class="line">    <span class="keywordtype">void</span> show()<span class="keyword"> const </span>{</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Product Parts: &quot;</span> &lt;&lt; partA_ &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; partB_ &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; partC_ &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::string partA_;</div>
<div class="line">    std::string partB_;</div>
<div class="line">    std::string partC_;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Builder interface</span></div>
<div class="line"><span class="keyword">class </span>Builder {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~Builder() {}</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildPartA() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildPartB() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildPartC() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> Product* getResult() = 0;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Concrete Builder</span></div>
<div class="line"><span class="keyword">class </span>ConcreteBuilder : <span class="keyword">public</span> Builder {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    ConcreteBuilder() { product_ = <span class="keyword">new</span> Product(); }</div>
<div class="line">    ~ConcreteBuilder() { <span class="keyword">delete</span> product_; }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> buildPartA()<span class="keyword"> override </span>{ product_-&gt;setPartA(<span class="stringliteral">&quot;PartA&quot;</span>); }</div>
<div class="line">    <span class="keywordtype">void</span> buildPartB()<span class="keyword"> override </span>{ product_-&gt;setPartB(<span class="stringliteral">&quot;PartB&quot;</span>); }</div>
<div class="line">    <span class="keywordtype">void</span> buildPartC()<span class="keyword"> override </span>{ product_-&gt;setPartC(<span class="stringliteral">&quot;PartC&quot;</span>); }</div>
<div class="line">    Product* getResult()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> product_; }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    Product* product_;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Director</span></div>
<div class="line"><span class="keyword">class </span>Director {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> setBuilder(Builder* builder) { builder_ = builder; }</div>
<div class="line">    <span class="keywordtype">void</span> construct() {</div>
<div class="line">        builder_-&gt;buildPartA();</div>
<div class="line">        builder_-&gt;buildPartB();</div>
<div class="line">        builder_-&gt;buildPartC();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    Builder* builder_;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Main function</span></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Director director;</div>
<div class="line">    ConcreteBuilder builder;</div>
<div class="line">    director.setBuilder(&amp;builder);</div>
<div class="line">    director.construct();</div>
<div class="line">    Product* product = builder.getResult();</div>
<div class="line">    product-&gt;show();</div>
<div class="line">    <span class="keyword">delete</span> product;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Този пример демонстрира как да се използва патернът Builder за създаване на сложен обект Product. В този пример Product се състои от три части: PartA, PartB и PartC. Builder интерфейсът дефинира методите за създаване на всяка част на Product. ConcreteBuilder класът имплементира Builder интерфейса и създава Product обект. Director класът управлява процеса на конструиране на Product обекта. В main функцията се създава Director обект, ConcreteBuilder обект и се извиква метода construct, който създава Product обекта. Накрая се извежда Product обекта на стандартния изход.</p>
<h1><a class="anchor" id="BUILDER_REFERENCES"></a>
За повече информация</h1>
<p>За повече информация вижте следните ресурси:</p><ul>
<li><a href="https://en.wikipedia.org/wiki/Builder_pattern">https://en.wikipedia.org/wiki/Builder_pattern</a></li>
<li><a href="https://www.geeksforgeeks.org/builder-design-pattern/">https://www.geeksforgeeks.org/builder-design-pattern/</a></li>
<li><a href="https://refactoring.guru/design-patterns/builder">https://refactoring.guru/design-patterns/builder</a>  </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Tips and Tricks in C++</a></li><li class="navelem"><a class="el" href="../../d4/d8c/a00035.html">Design Patterns in C++</a></li>
    <li class="footer">Generated on Fri Jan 10 2025 19:25:07 for C++ Tips and Tricks by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
