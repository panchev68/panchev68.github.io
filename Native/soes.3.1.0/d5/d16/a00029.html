<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SOES: esc_eep.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SOES<span id="projectnumber">&#160;v3.1.0</span>
   </div>
   <div id="projectbrief">Simple Open Source EtherCAT Slave</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d5/d16/a00029.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">esc_eep.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for EEPROM handling in EtherCAT slave devices.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d51/a00017.html">esc.h</a>&quot;</code><br />
<code>#include &lt;cc.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for esc_eep.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d79/a00030.svg" width="379" height="262"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d61/a00031.svg" width="92" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d24/a00068.html">CC_PACKED</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">FoE header.  <a href="../../da/d24/a00068.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d57/a00112.html">eep_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A union representing the EEPROM configuration.  <a href="../../db/d57/a00112.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6f97167ef2c9b165cd88ed635d1e1c44" id="r_a6f97167ef2c9b165cd88ed635d1e1c44"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f97167ef2c9b165cd88ed635d1e1c44">EEP_CMD_IDLE</a>&#160;&#160;&#160;0x0</td></tr>
<tr class="separator:a6f97167ef2c9b165cd88ed635d1e1c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1de1fb4c98b0ca2a71060f340bf429" id="r_a3d1de1fb4c98b0ca2a71060f340bf429"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d1de1fb4c98b0ca2a71060f340bf429">EEP_CMD_READ</a>&#160;&#160;&#160;0x1</td></tr>
<tr class="separator:a3d1de1fb4c98b0ca2a71060f340bf429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fe2c14cacb483eaf58e61cff0da500" id="r_a46fe2c14cacb483eaf58e61cff0da500"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46fe2c14cacb483eaf58e61cff0da500">EEP_CMD_WRITE</a>&#160;&#160;&#160;0x2</td></tr>
<tr class="separator:a46fe2c14cacb483eaf58e61cff0da500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24294b2064797dd693fb650e994ef51d" id="r_a24294b2064797dd693fb650e994ef51d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24294b2064797dd693fb650e994ef51d">EEP_CMD_RELOAD</a>&#160;&#160;&#160;0x4</td></tr>
<tr class="separator:a24294b2064797dd693fb650e994ef51d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3eabe7baadecd61705bbb4d5f40975" id="r_a2e3eabe7baadecd61705bbb4d5f40975"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e3eabe7baadecd61705bbb4d5f40975">EEP_WRITE_SIZE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a2e3eabe7baadecd61705bbb4d5f40975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5400cb73529a92ac0b612a54969e5db5" id="r_a5400cb73529a92ac0b612a54969e5db5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5400cb73529a92ac0b612a54969e5db5">EEP_CONFIG_ALIAS_WORD_OFFSET</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a5400cb73529a92ac0b612a54969e5db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:abf216fd88d2a102af53d2a1ac7bb613c" id="r_abf216fd88d2a102af53d2a1ac7bb613c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../da/d24/a00068.html">CC_PACKED</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf216fd88d2a102af53d2a1ac7bb613c">eep_stat_t</a></td></tr>
<tr class="separator:abf216fd88d2a102af53d2a1ac7bb613c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25213c3c0fccdf4615d38337036b538" id="r_af25213c3c0fccdf4615d38337036b538"><td class="memItemLeft" align="right" valign="top">typedef union <a class="el" href="../../db/d57/a00112.html">eep_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af25213c3c0fccdf4615d38337036b538">eep_config_t</a></td></tr>
<tr class="separator:af25213c3c0fccdf4615d38337036b538"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a576af053d37a7fef3a06513e59ede5f7" id="r_a576af053d37a7fef3a06513e59ede5f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a576af053d37a7fef3a06513e59ede5f7">EEP_process</a> (void)</td></tr>
<tr class="memdesc:a576af053d37a7fef3a06513e59ede5f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Periodic EEPROM process.  <br /></td></tr>
<tr class="separator:a576af053d37a7fef3a06513e59ede5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09a4df586deb94f5bfec05042ebb2df" id="r_ad09a4df586deb94f5bfec05042ebb2df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad09a4df586deb94f5bfec05042ebb2df">EEP_set_read_size</a> (uint16_t read_size)</td></tr>
<tr class="memdesc:ad09a4df586deb94f5bfec05042ebb2df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set read size, 4 Byte or 8 Byte depending on ESC. Default 8 Byte.  <br /></td></tr>
<tr class="separator:ad09a4df586deb94f5bfec05042ebb2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b562c6817b0f0d40afead62633729e" id="r_a55b562c6817b0f0d40afead62633729e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55b562c6817b0f0d40afead62633729e">EEP_set_reload_function_pointer</a> (void(*reload_ptr)(<a class="el" href="#abf216fd88d2a102af53d2a1ac7bb613c">eep_stat_t</a> *stat))</td></tr>
<tr class="separator:a55b562c6817b0f0d40afead62633729e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">From hardware file</div></td></tr>
<tr class="memitem:a2ebb75d9a948ad2c15244b3f661b84e4" id="r_a2ebb75d9a948ad2c15244b3f661b84e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ebb75d9a948ad2c15244b3f661b84e4">EEP_init</a> (void)</td></tr>
<tr class="memdesc:a2ebb75d9a948ad2c15244b3f661b84e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the EEPROM.  <br /></td></tr>
<tr class="separator:a2ebb75d9a948ad2c15244b3f661b84e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d2f5f2da49eab68502eebf8d7756a2" id="r_aa4d2f5f2da49eab68502eebf8d7756a2"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4d2f5f2da49eab68502eebf8d7756a2">EEP_read</a> (uint32_t addr, uint8_t *data, uint16_t size)</td></tr>
<tr class="memdesc:aa4d2f5f2da49eab68502eebf8d7756a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read EEPROM data.  <br /></td></tr>
<tr class="separator:aa4d2f5f2da49eab68502eebf8d7756a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f43e4dee196bb5a68d2d7d9d7c1ffb" id="r_ac8f43e4dee196bb5a68d2d7d9d7c1ffb"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8f43e4dee196bb5a68d2d7d9d7c1ffb">EEP_write</a> (uint32_t addr, uint8_t *data, uint16_t size)</td></tr>
<tr class="memdesc:ac8f43e4dee196bb5a68d2d7d9d7c1ffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write EEPROM data.  <br /></td></tr>
<tr class="separator:ac8f43e4dee196bb5a68d2d7d9d7c1ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for EEPROM handling in EtherCAT slave devices. </p>
<p>This file contains the definitions and function prototypes for handling EEPROM operations in EtherCAT slave devices. It includes structures for representing EEPROM status and configuration, as well as functions for initializing the EEPROM, reading from it, and writing to it. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6f97167ef2c9b165cd88ed635d1e1c44" name="a6f97167ef2c9b165cd88ed635d1e1c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f97167ef2c9b165cd88ed635d1e1c44">&#9670;&#160;</a></span>EEP_CMD_IDLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEP_CMD_IDLE&#160;&#160;&#160;0x0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Idle </p>

</div>
</div>
<a id="a3d1de1fb4c98b0ca2a71060f340bf429" name="a3d1de1fb4c98b0ca2a71060f340bf429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d1de1fb4c98b0ca2a71060f340bf429">&#9670;&#160;</a></span>EEP_CMD_READ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEP_CMD_READ&#160;&#160;&#160;0x1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read </p>

</div>
</div>
<a id="a24294b2064797dd693fb650e994ef51d" name="a24294b2064797dd693fb650e994ef51d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24294b2064797dd693fb650e994ef51d">&#9670;&#160;</a></span>EEP_CMD_RELOAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEP_CMD_RELOAD&#160;&#160;&#160;0x4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reload </p>

</div>
</div>
<a id="a46fe2c14cacb483eaf58e61cff0da500" name="a46fe2c14cacb483eaf58e61cff0da500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46fe2c14cacb483eaf58e61cff0da500">&#9670;&#160;</a></span>EEP_CMD_WRITE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEP_CMD_WRITE&#160;&#160;&#160;0x2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write </p>

</div>
</div>
<a id="a5400cb73529a92ac0b612a54969e5db5" name="a5400cb73529a92ac0b612a54969e5db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5400cb73529a92ac0b612a54969e5db5">&#9670;&#160;</a></span>EEP_CONFIG_ALIAS_WORD_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEP_CONFIG_ALIAS_WORD_OFFSET&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e3eabe7baadecd61705bbb4d5f40975" name="a2e3eabe7baadecd61705bbb4d5f40975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e3eabe7baadecd61705bbb4d5f40975">&#9670;&#160;</a></span>EEP_WRITE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEP_WRITE_SIZE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EEPROM write size </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="af25213c3c0fccdf4615d38337036b538" name="af25213c3c0fccdf4615d38337036b538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25213c3c0fccdf4615d38337036b538">&#9670;&#160;</a></span>eep_config_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef union <a class="el" href="../../db/d57/a00112.html">eep_config</a> <a class="el" href="#af25213c3c0fccdf4615d38337036b538">eep_config_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abf216fd88d2a102af53d2a1ac7bb613c" name="abf216fd88d2a102af53d2a1ac7bb613c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf216fd88d2a102af53d2a1ac7bb613c">&#9670;&#160;</a></span>eep_stat_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../da/d24/a00068.html">CC_PACKED</a> <a class="el" href="#abf216fd88d2a102af53d2a1ac7bb613c">eep_stat_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2ebb75d9a948ad2c15244b3f661b84e4" name="a2ebb75d9a948ad2c15244b3f661b84e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ebb75d9a948ad2c15244b3f661b84e4">&#9670;&#160;</a></span>EEP_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EEP_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the EEPROM. </p>
<p>This function sets up the EEPROM for use. It should be called before any other EEPROM functions are used. </p>

</div>
</div>
<a id="a576af053d37a7fef3a06513e59ede5f7" name="a576af053d37a7fef3a06513e59ede5f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a576af053d37a7fef3a06513e59ede5f7">&#9670;&#160;</a></span>EEP_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EEP_process </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Periodic EEPROM process. </p>
<p>EPP periodic task of ESC side EEPROM emulation. </p>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d16/a00029_a576af053d37a7fef3a06513e59ede5f7_cgraph.svg" width="244" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa4d2f5f2da49eab68502eebf8d7756a2" name="aa4d2f5f2da49eab68502eebf8d7756a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4d2f5f2da49eab68502eebf8d7756a2">&#9670;&#160;</a></span>EEP_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t EEP_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read EEPROM data. </p>
<p>Read EEPROM data from the EEPROM data register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>EEPROM address </td></tr>
    <tr><td class="paramname">data</td><td>Data buffer </td></tr>
    <tr><td class="paramname">size</td><td>Data size </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d16/a00029_aa4d2f5f2da49eab68502eebf8d7756a2_icgraph.svg" width="240" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad09a4df586deb94f5bfec05042ebb2df" name="ad09a4df586deb94f5bfec05042ebb2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09a4df586deb94f5bfec05042ebb2df">&#9670;&#160;</a></span>EEP_set_read_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EEP_set_read_size </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>read_size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set read size, 4 Byte or 8 Byte depending on ESC. Default 8 Byte. </p>
<p>Application Notes: EEPROM emulation</p>
<p>NOTE: Special handling needed when 4 Byte read is supported.</p>
<p>Ref. ET1100 Datasheet sec2_registers_3i0, chapter 2.45.1, "EEPROM emulation with 32 bit EEPROM data register (0x0502[6]=0)".</p>
<p>For a Reload command, fill the EEPROM Data register with the values shown in the chapter 2.45.1 before acknowledging the command. These values are automatically transferred to the designated registers after the Reload command is acknowledged.</p>
<p>NOTE: When 4 Byte read is supported, EEP_process will only load config alias on reload.</p>
<p>NOTE: EEP_process support implementing a custom reload function for both 4 Byte and 8 Byte read support.</p>
<p>NOTE: Code snippet for custom reload function when 4 Byte read is supported.</p>
<p>void reload_ptr(eep_stat_t *stat) { <a class="el" href="#af25213c3c0fccdf4615d38337036b538">eep_config_t</a> ee_cfg;</p>
<p>// Read configuration area EEP_read(0, &amp;ee_cfg, sizeof(ee_cfg);</p>
<p>// Check CRC if(is_crc_ok(&amp;ee_cfg) == true) { // Write config alias to EEPROM data registers. // Will be loaded to 0x12:13 on command ack. ESC_write(ESCREG_EEDATA, &amp;ee_cfg.configured_station_alias, sizeof(configured_station_alias)); } else { // Indicate CRC error stat-&gt;contstat.bits.csumErr = 1; stat-&gt;contstat.bits.ackErr = 1; } } NOTE: Code snippet for custom reload function when 8 Byte read is supported.</p>
<p>void reload_ptr(eep_stat_t *stat) { <a class="el" href="#af25213c3c0fccdf4615d38337036b538">eep_config_t</a> ee_cfg;</p>
<p>// Read configuration area EEP_read(0, &amp;ee_cfg, sizeof(ee_cfg);</p>
<p>// Check CRC if(is_crc_ok(&amp;ee_cfg) == true) { // Load EEPROM data at requested EEPROM address EEP_read (stat-&gt;addr * sizeof(uint16_t), eep_buf, 8U); // Write loaded data to EEPROM data registers ESC_write(ESCREG_EEDATA, eep_buf, 8U); } else { // Indicate CRC error stat-&gt;contstat.bits.csumErr = 1; stat-&gt;contstat.bits.ackErr = 1; } } </p>
<p>Set eep internal variables. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">read_size</td><td>4 or 8</td></tr>
  </table>
  </dd>
</dl>
<p>EPP Set read size, 4 Byte or 8 Byte depending on ESC. Default 8 Byte. </p>

</div>
</div>
<a id="a55b562c6817b0f0d40afead62633729e" name="a55b562c6817b0f0d40afead62633729e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b562c6817b0f0d40afead62633729e">&#9670;&#160;</a></span>EEP_set_reload_function_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EEP_set_reload_function_pointer </td>
          <td>(</td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>reload_ptr&#160;</em></span>)(<a class="el" href="#abf216fd88d2a102af53d2a1ac7bb613c">eep_stat_t</a> *stat)</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPP Set reload function pointer. Function shall update current stat accordingly. Eg. on CRC error reload function shall set stat.contstat.bits.csumErr = 1 stat.contstat.bits.ackErr = 1 </p>

</div>
</div>
<a id="ac8f43e4dee196bb5a68d2d7d9d7c1ffb" name="ac8f43e4dee196bb5a68d2d7d9d7c1ffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8f43e4dee196bb5a68d2d7d9d7c1ffb">&#9670;&#160;</a></span>EEP_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t EEP_write </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write EEPROM data. </p>
<p>Write EEPROM data to the EEPROM data register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>EEPROM address </td></tr>
    <tr><td class="paramname">data</td><td>Data buffer </td></tr>
    <tr><td class="paramname">size</td><td>Data size </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d16/a00029_ac8f43e4dee196bb5a68d2d7d9d7c1ffb_icgraph.svg" width="244" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d5/d16/a00029.html">esc_eep.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
